<!-- templates/includes/cart_notification.html -->
<div 
    x-data="{ show: false, message: '', product: '' }" 
    x-show="show"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0 translate-y-2"
    x-transition:enter-end="opacity-100 translate-y-0"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0"
    
    id="cart-notification"
    class="fixed bottom-4 right-4 z-50 w-80 p-4 rounded-lg shadow-xl border border-indigo-700 bg-gradient-to-br from-indigo-900 to-purple-900 text-white"
    style="display: none;"
>
    <div class="flex items-start space-x-3">
        <i class="bi bi-cart-check text-2xl text-green-400"></i>
        <div class="flex-1">
            <p class="text-sm" x-text="message"></p>
            <p class="text-xs text-blue-300 mt-1" x-text="product"></p>
            <div class="mt-3 flex space-x-2">
                <button 
                    @click="show = false" 
                    class="text-xs text-gray-400 hover:text-blue-300 transition-colors"
                >
                    Dismiss
                </button>
                <a href="{% url 'cart:view' %}" 
                   class="text-xs text-blue-300 hover:text-blue-200 transition-colors">
                    View Cart
                </a>
            </div>
        </div>
    </div>
</div>



<!-- <script>
    document.addEventListener('alpine:init', () => {
        Alpine.data('cartNotification', () => ({
            show: false,
            message: '',
            product: null,
            
            init() {
                document.addEventListener('cart-notification', (e) => {
                    
                    console.log(this);
                    this.message = e.detail.message
                    this.product = e.detail.product
                    this.show = true
                    setTimeout(() => this.show = false, 10000)
                })
            }
        }))
    })
    </script> -->